<!DOCTYPE html>
<html lang="en">
<head>
    <title>Reimbursement Portal</title>
</head>
<body>
    <h1>Welcome!</h1>

    <div>
        <h3>Login</h3>
        <input type="text" id="username-input" placeholder="Username">
        <input type="text" id="password-input" placeholder="Password">
        <button id="employee-login-btn" onclick="getEmployeeByLogin()">Login</button>
    </div>
</body>
<script>
    async function getEmployeeByLogin(){
		const username = document.getElementById("username-input").value;
		const password = document.getElementById("password-input").value;
        const httpResponse = await fetch(`http://localhost:7000/employees?username=${username}&password=${password}`);
        const employee = await httpResponse.json();
        console.log(employee);

    }

    async function createEmployee(){

        // getting our inputs and creating an object that has those values
        const sId = 0;
        const name = document.getElementById("nameInput").value;
        const capacity = Number.parseInt(document.getElementById("capacityInput").value);
        let school = {
            sId:sId,
            name:name,
            capacity:capacity
        }

        // config object literal. An object with a bunch of configuration to be used in a function
        const config = {
            method: "POST",
            headers : {'Content-Type': 'application/json'}, // you can use the headers properties to set headers
            body : JSON.stringify(school)
        };

        const httpResponse = await fetch("http://localhost:7000/schools",config);
        school = await httpResponse.json();

        document.getElementById("sIdField").innerHTML = school.sId;
        document.getElementById("nameField").innerHTML = school.name;
        document.getElementById("capacityField").innerHTML = school.capacity;    

        document.getElementById("schoolTable").removeAttribute("hidden");    
    }


</script>
</html>