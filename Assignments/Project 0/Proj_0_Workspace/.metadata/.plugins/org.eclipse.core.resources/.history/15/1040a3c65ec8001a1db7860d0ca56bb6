package dev.alsabea.daosandservices.services.impl;

import dev.alsabea.daosandservices.daos.AccountDao;
import dev.alsabea.daosandservices.daos.impl.AccountDaoImpl;
import dev.alsabea.daosandservices.services.AccountServices;
import dev.alsabea.entities.Account;
import dev.alsabea.exceptions.NegativeBalanceException;

public class AccountServicesImpl implements AccountServices{

	private static AccountServicesImpl aServices;
	
	private static AccountDao acctDao	= AccountDaoImpl.getAccountDao();
	
	private AccountServicesImpl() {}
	
	
	public static AccountServicesImpl getAccountServicesInstance() {
		if (aServices ==null)
			aServices= new AccountServicesImpl();
		return aServices;
	}
	
	
	@Override
	public int create(Account t) {
		return acctDao.create(t);
	}

	@Override
	public boolean delete(int id) {
		
		return acctDao.delete(id);
	}

	@Override
	public Account retrieveById(int id) {
		
		return acctDao.retrieveById(id);
	}

	@Override
	public boolean update(Account t) throws NegativeBalanceException{
		
		if (t.getBalance() < 0)
			throw NegativeBalanceException();
		
		return false;
	}

}
