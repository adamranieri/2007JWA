<!DOCTYPE html>
<html lang="en">
<head>
    <title>Banking App</title>
</head>
<body>
    <h1>Banking App</h1>

    <button onclick="GetAllCustomers()">Get All Customers</button>

    <div>
        <h3>Customer Creator</h3>
          <input type="number" id="customerIdInput" placeholder="Customer Id">
        <input type="text" id="usernameInput" placeholder="Customer username">
        <input type="text" id="passwordInput" placeholder="Customer Password">
      
        <button id="CustomerCreateBtn" onclick="createCustomer()">Create Customer</button>
    </div>



    <table id="CustomerTable" hidden>
        <thead>
	        <th>Customer ID</th> 
	        <th>Customer username</th> 
	        <th>Customer Password</th>
        </thead>
        <tr>
	        <td id="cIdField">N/A</td>
	        <td id="usernameField">N/A</td>
	        <td id="passwordField">N/A</td>
        </tr>
    </table>


    
</body>
<script>

    async function getAllCustomers(){

        const httpResponse = await fetch("http://localhost:7000/customers");
        const customers = await httpResponse.json();
        console.log(customers);

    }

    async function createCustomer(){

        // getting our inputs and creating an object that has those values
        const cIdx = 0;
        const usernamex = document.getElementById("usernameInput").value;
        const passwordx = document.getElementById("passwordInput").value;
        
        let customer = {
            cid :cidx,
            username:usernamex,
            password : passwordx
        }

        // config object literal. An object with a bunch of configuration to be used in a function
        const config = {
            method: "POST",
            headers : {'Content-Type': 'application/json'}, // you can use the headers properties to set headers
            body : JSON.stringify(customer)
        };

        const httpResponse = await fetch("http://localhost:7000/schools",config);
        school = await httpResponse.json();

        document.getElementById("sIdField").innerHTML = school.sId;
        document.getElementById("nameField").innerHTML = school.name;
        document.getElementById("capacityField").innerHTML = school.capacity;    

        document.getElementById("schoolTable").removeAttribute("hidden");    
    }


</script>
</html>