<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manager</title>
    <link rel="stylesheet" href="../generalStyles.css">
</head>
<body onload="initialize()">
    <a href="../xyz-loginpage-dummy.html">Back</a>


    <h3 id= "j-object-mgr" >HEAD 3</h3>


    <table id="theTable"><b>Employees</b>  


    </table>



    <button id= "emp1" onclick="redirectToEmp1()">go to emp 1</button>




    <script>


        function initialize(){
            
            mgr= JSON.parse( window.localStorage.getItem("mgr"));
            console.log(mgr.firstName);
            console.log(mgr.emps[0]);

            console.log()

            tb=`
            <th> Employee Name</th>

            `

            for (let i=0; i<mgr.emps.length; i++){
                tb+=
                `
                <tr  onclick = redirectToEmp(${i}) >
                    <td>
                        <button id=tableButton> 
                            ${mgr.emps[i].firstName} &nbsp ${mgr.emps[i].lastName} 
                        </button>
                    </td>    
                </tr>

                `
            }

            document.getElementById("theTable").innerHTML+=tb;
        }


        function getMgr(){
            //global variable
            
            
     
        }

        function redirectToEmp(i){


            window.localStorage.setItem("emp", JSON.stringify(mgr.emps[i]));
            let jj= window.localStorage.getItem("emp");
            console.log(jj);
            window.location.replace("./mgr-emp.html");
        }

    </script>
    
    <style>
        #tableButton{
            color: bisque;
            background-color: black;
            width: 150%;

        }

        #theTable{
            border: blueviolet;
            outline-color: brown;
        }
    </style>
</body>
</html>